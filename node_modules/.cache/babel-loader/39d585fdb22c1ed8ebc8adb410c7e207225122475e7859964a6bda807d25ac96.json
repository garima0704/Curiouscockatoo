{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MY COMPUTER SERVICES\\\\CuriousCockatoo\\\\client\\\\src\\\\components\\\\Converter.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport pb from \"../utils/pocketbaseClient\";\nimport RealWorldBox from \"./RealWorldBox\";\nimport { formatNumber } from \"../utils/formatNumber\";\nimport { useTheme } from \"../context/ThemeContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction parseScientific(val) {\n  var _val$value;\n  if (val == null) return null;\n  if (typeof val === \"number\") return val;\n  if (typeof val === \"object\") return Number((_val$value = val.value) !== null && _val$value !== void 0 ? _val$value : val.general);\n  const parsed = parseFloat(val);\n  return isNaN(parsed) ? null : parsed;\n}\nfunction Converter({\n  categoryId\n}) {\n  _s();\n  const [units, setUnits] = useState([]);\n  const [realWorldItems, setRealWorldItems] = useState([]);\n  const [inputValue, setInputValue] = useState(1);\n  const [inputUnit, setInputUnit] = useState(null);\n  const [convertedValues, setConvertedValues] = useState([]);\n  const {\n    theme\n  } = useTheme();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const unitRecords = await pb.collection(\"units\").getFullList({\n          filter: `category = \"${categoryId}\"`\n        });\n        const realItems = await pb.collection(\"realworld_items\").getFullList({\n          filter: `category = \"${categoryId}\"`,\n          sort: \"sort_priority\"\n        });\n        const sortedUnits = unitRecords.sort((a, b) => a.to_base_factor - b.to_base_factor);\n        setUnits(sortedUnits);\n        setRealWorldItems(realItems);\n        setInputUnit(sortedUnits[0]);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n    if (categoryId) fetchData();\n  }, [categoryId]);\n  useEffect(() => {\n    if (!inputUnit || units.length === 0) return;\n    const inputToBase = inputValue * inputUnit.to_base_factor;\n    const conversions = units.map(unit => {\n      const value = inputToBase / unit.to_base_factor;\n      return {\n        ...unit,\n        convertedValue: value\n      };\n    });\n    setConvertedValues(conversions);\n  }, [inputValue, inputUnit, units]);\n  const handleInputChange = e => {\n    const val = parseFloat(e.target.value);\n    if (!isNaN(val)) setInputValue(val);\n  };\n  const handleUnitChange = e => {\n    const selected = units.find(u => u.name === e.target.value);\n    if (selected) setInputUnit(selected);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    style: {\n      backgroundColor: theme.containerColor\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold mb-4\",\n      style: {\n        color: theme.headingColor\n      },\n      children: \"Unit Converter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: inputValue,\n        onChange: handleInputChange,\n        className: \"p-2 border rounded w-32\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: (inputUnit === null || inputUnit === void 0 ? void 0 : inputUnit.name) || \"\",\n        onChange: handleUnitChange,\n        className: \"ml-2 p-2 border rounded\",\n        children: units.map(unit => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: unit.name,\n          children: unit.name\n        }, unit.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\",\n      children: convertedValues.slice(0, 3).map((conv, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded shadow\",\n        style: {\n          backgroundColor: theme.boxColor\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg font-semibold\",\n          style: {\n            color: theme.outputTextColor\n          },\n          children: [formatNumber(conv.convertedValue), \" \", conv.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-bold mt-6 mb-2\",\n      style: {\n        color: theme.subheadingColor\n      },\n      children: \"Real World Comparison\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\",\n      children: realWorldItems.slice(0, 3).map((item, index) => /*#__PURE__*/_jsxDEV(RealWorldBox, {\n        item: item,\n        inputValue: inputValue,\n        inputToBase: inputValue * (inputUnit === null || inputUnit === void 0 ? void 0 : inputUnit.to_base_factor)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(Converter, \"f6Kaic6cLFb3Jv/4jo5zLd3pgfg=\", false, function () {\n  return [useTheme];\n});\n_c = Converter;\nexport default Converter;\nvar _c;\n$RefreshReg$(_c, \"Converter\");","map":{"version":3,"names":["React","useEffect","useState","pb","RealWorldBox","formatNumber","useTheme","jsxDEV","_jsxDEV","parseScientific","val","_val$value","Number","value","general","parsed","parseFloat","isNaN","Converter","categoryId","_s","units","setUnits","realWorldItems","setRealWorldItems","inputValue","setInputValue","inputUnit","setInputUnit","convertedValues","setConvertedValues","theme","fetchData","unitRecords","collection","getFullList","filter","realItems","sort","sortedUnits","a","b","to_base_factor","error","console","length","inputToBase","conversions","map","unit","convertedValue","handleInputChange","e","target","handleUnitChange","selected","find","u","name","className","style","backgroundColor","containerColor","children","color","headingColor","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","id","slice","conv","idx","boxColor","outputTextColor","subheadingColor","item","index","_c","$RefreshReg$"],"sources":["C:/Users/MY COMPUTER SERVICES/CuriousCockatoo/client/src/components/Converter.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport pb from \"../utils/pocketbaseClient\";\nimport RealWorldBox from \"./RealWorldBox\";\nimport { formatNumber } from \"../utils/formatNumber\";\nimport { useTheme } from \"../context/ThemeContext\";\n\nfunction parseScientific(val) {\n  if (val == null) return null;\n  if (typeof val === \"number\") return val;\n  if (typeof val === \"object\") return Number(val.value ?? val.general);\n  const parsed = parseFloat(val);\n  return isNaN(parsed) ? null : parsed;\n}\n\nfunction Converter({ categoryId }) {\n  const [units, setUnits] = useState([]);\n  const [realWorldItems, setRealWorldItems] = useState([]);\n  const [inputValue, setInputValue] = useState(1);\n  const [inputUnit, setInputUnit] = useState(null);\n  const [convertedValues, setConvertedValues] = useState([]);\n  const { theme } = useTheme();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const unitRecords = await pb.collection(\"units\").getFullList({\n          filter: `category = \"${categoryId}\"`,\n        });\n\n        const realItems = await pb.collection(\"realworld_items\").getFullList({\n          filter: `category = \"${categoryId}\"`,\n          sort: \"sort_priority\",\n        });\n\n        const sortedUnits = unitRecords.sort((a, b) => a.to_base_factor - b.to_base_factor);\n\n        setUnits(sortedUnits);\n        setRealWorldItems(realItems);\n        setInputUnit(sortedUnits[0]);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n\n    if (categoryId) fetchData();\n  }, [categoryId]);\n\n  useEffect(() => {\n    if (!inputUnit || units.length === 0) return;\n\n    const inputToBase = inputValue * inputUnit.to_base_factor;\n    const conversions = units.map((unit) => {\n      const value = inputToBase / unit.to_base_factor;\n      return {\n        ...unit,\n        convertedValue: value,\n      };\n    });\n\n    setConvertedValues(conversions);\n  }, [inputValue, inputUnit, units]);\n\n  const handleInputChange = (e) => {\n    const val = parseFloat(e.target.value);\n    if (!isNaN(val)) setInputValue(val);\n  };\n\n  const handleUnitChange = (e) => {\n    const selected = units.find((u) => u.name === e.target.value);\n    if (selected) setInputUnit(selected);\n  };\n\n  return (\n    <div className=\"p-4\" style={{ backgroundColor: theme.containerColor }}>\n      <h2 className=\"text-xl font-bold mb-4\" style={{ color: theme.headingColor }}>\n        Unit Converter\n      </h2>\n\n      <div className=\"mb-4\">\n        <input\n          type=\"number\"\n          value={inputValue}\n          onChange={handleInputChange}\n          className=\"p-2 border rounded w-32\"\n        />\n\n        <select\n          value={inputUnit?.name || \"\"}\n          onChange={handleUnitChange}\n          className=\"ml-2 p-2 border rounded\"\n        >\n          {units.map((unit) => (\n            <option key={unit.id} value={unit.name}>\n              {unit.name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n        {convertedValues.slice(0, 3).map((conv, idx) => (\n          <div\n            key={idx}\n            className=\"p-4 rounded shadow\"\n            style={{ backgroundColor: theme.boxColor }}\n          >\n            <div className=\"text-lg font-semibold\" style={{ color: theme.outputTextColor }}>\n              {formatNumber(conv.convertedValue)} {conv.name}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <h3 className=\"text-lg font-bold mt-6 mb-2\" style={{ color: theme.subheadingColor }}>\n        Real World Comparison\n      </h3>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n        {realWorldItems.slice(0, 3).map((item, index) => (\n          <RealWorldBox key={item.id} item={item} inputValue={inputValue} inputToBase={inputValue * inputUnit?.to_base_factor} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Converter;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,EAAE,MAAM,2BAA2B;AAC1C,OAAOC,YAAY,MAAM,gBAAgB;AACzC,SAASC,YAAY,QAAQ,uBAAuB;AACpD,SAASC,QAAQ,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,SAASC,eAAeA,CAACC,GAAG,EAAE;EAAA,IAAAC,UAAA;EAC5B,IAAID,GAAG,IAAI,IAAI,EAAE,OAAO,IAAI;EAC5B,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE,OAAOA,GAAG;EACvC,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE,OAAOE,MAAM,EAAAD,UAAA,GAACD,GAAG,CAACG,KAAK,cAAAF,UAAA,cAAAA,UAAA,GAAID,GAAG,CAACI,OAAO,CAAC;EACpE,MAAMC,MAAM,GAAGC,UAAU,CAACN,GAAG,CAAC;EAC9B,OAAOO,KAAK,CAACF,MAAM,CAAC,GAAG,IAAI,GAAGA,MAAM;AACtC;AAEA,SAASG,SAASA,CAAC;EAAEC;AAAW,CAAC,EAAE;EAAAC,EAAA;EACjC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACqB,cAAc,EAAEC,iBAAiB,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACuB,UAAU,EAAEC,aAAa,CAAC,GAAGxB,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACyB,SAAS,EAAEC,YAAY,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAAC2B,eAAe,EAAEC,kBAAkB,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM;IAAE6B;EAAM,CAAC,GAAGzB,QAAQ,CAAC,CAAC;EAE5BL,SAAS,CAAC,MAAM;IACd,MAAM+B,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,WAAW,GAAG,MAAM9B,EAAE,CAAC+B,UAAU,CAAC,OAAO,CAAC,CAACC,WAAW,CAAC;UAC3DC,MAAM,EAAE,eAAejB,UAAU;QACnC,CAAC,CAAC;QAEF,MAAMkB,SAAS,GAAG,MAAMlC,EAAE,CAAC+B,UAAU,CAAC,iBAAiB,CAAC,CAACC,WAAW,CAAC;UACnEC,MAAM,EAAE,eAAejB,UAAU,GAAG;UACpCmB,IAAI,EAAE;QACR,CAAC,CAAC;QAEF,MAAMC,WAAW,GAAGN,WAAW,CAACK,IAAI,CAAC,CAACE,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,cAAc,GAAGD,CAAC,CAACC,cAAc,CAAC;QAEnFpB,QAAQ,CAACiB,WAAW,CAAC;QACrBf,iBAAiB,CAACa,SAAS,CAAC;QAC5BT,YAAY,CAACW,WAAW,CAAC,CAAC,CAAC,CAAC;MAC9B,CAAC,CAAC,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;IACF,CAAC;IAED,IAAIxB,UAAU,EAAEa,SAAS,CAAC,CAAC;EAC7B,CAAC,EAAE,CAACb,UAAU,CAAC,CAAC;EAEhBlB,SAAS,CAAC,MAAM;IACd,IAAI,CAAC0B,SAAS,IAAIN,KAAK,CAACwB,MAAM,KAAK,CAAC,EAAE;IAEtC,MAAMC,WAAW,GAAGrB,UAAU,GAAGE,SAAS,CAACe,cAAc;IACzD,MAAMK,WAAW,GAAG1B,KAAK,CAAC2B,GAAG,CAAEC,IAAI,IAAK;MACtC,MAAMpC,KAAK,GAAGiC,WAAW,GAAGG,IAAI,CAACP,cAAc;MAC/C,OAAO;QACL,GAAGO,IAAI;QACPC,cAAc,EAAErC;MAClB,CAAC;IACH,CAAC,CAAC;IAEFiB,kBAAkB,CAACiB,WAAW,CAAC;EACjC,CAAC,EAAE,CAACtB,UAAU,EAAEE,SAAS,EAAEN,KAAK,CAAC,CAAC;EAElC,MAAM8B,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAM1C,GAAG,GAAGM,UAAU,CAACoC,CAAC,CAACC,MAAM,CAACxC,KAAK,CAAC;IACtC,IAAI,CAACI,KAAK,CAACP,GAAG,CAAC,EAAEgB,aAAa,CAAChB,GAAG,CAAC;EACrC,CAAC;EAED,MAAM4C,gBAAgB,GAAIF,CAAC,IAAK;IAC9B,MAAMG,QAAQ,GAAGlC,KAAK,CAACmC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,KAAKN,CAAC,CAACC,MAAM,CAACxC,KAAK,CAAC;IAC7D,IAAI0C,QAAQ,EAAE3B,YAAY,CAAC2B,QAAQ,CAAC;EACtC,CAAC;EAED,oBACE/C,OAAA;IAAKmD,SAAS,EAAC,KAAK;IAACC,KAAK,EAAE;MAAEC,eAAe,EAAE9B,KAAK,CAAC+B;IAAe,CAAE;IAAAC,QAAA,gBACpEvD,OAAA;MAAImD,SAAS,EAAC,wBAAwB;MAACC,KAAK,EAAE;QAAEI,KAAK,EAAEjC,KAAK,CAACkC;MAAa,CAAE;MAAAF,QAAA,EAAC;IAE7E;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEL7D,OAAA;MAAKmD,SAAS,EAAC,MAAM;MAAAI,QAAA,gBACnBvD,OAAA;QACE8D,IAAI,EAAC,QAAQ;QACbzD,KAAK,EAAEY,UAAW;QAClB8C,QAAQ,EAAEpB,iBAAkB;QAC5BQ,SAAS,EAAC;MAAyB;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpC,CAAC,eAEF7D,OAAA;QACEK,KAAK,EAAE,CAAAc,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE+B,IAAI,KAAI,EAAG;QAC7Ba,QAAQ,EAAEjB,gBAAiB;QAC3BK,SAAS,EAAC,yBAAyB;QAAAI,QAAA,EAElC1C,KAAK,CAAC2B,GAAG,CAAEC,IAAI,iBACdzC,OAAA;UAAsBK,KAAK,EAAEoC,IAAI,CAACS,IAAK;UAAAK,QAAA,EACpCd,IAAI,CAACS;QAAI,GADCT,IAAI,CAACuB,EAAE;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEZ,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAEN7D,OAAA;MAAKmD,SAAS,EAAC,sDAAsD;MAAAI,QAAA,EAClElC,eAAe,CAAC4C,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACzB,GAAG,CAAC,CAAC0B,IAAI,EAAEC,GAAG,kBACzCnE,OAAA;QAEEmD,SAAS,EAAC,oBAAoB;QAC9BC,KAAK,EAAE;UAAEC,eAAe,EAAE9B,KAAK,CAAC6C;QAAS,CAAE;QAAAb,QAAA,eAE3CvD,OAAA;UAAKmD,SAAS,EAAC,uBAAuB;UAACC,KAAK,EAAE;YAAEI,KAAK,EAAEjC,KAAK,CAAC8C;UAAgB,CAAE;UAAAd,QAAA,GAC5E1D,YAAY,CAACqE,IAAI,CAACxB,cAAc,CAAC,EAAC,GAAC,EAACwB,IAAI,CAAChB,IAAI;QAAA;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C;MAAC,GANDM,GAAG;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAOL,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAEN7D,OAAA;MAAImD,SAAS,EAAC,6BAA6B;MAACC,KAAK,EAAE;QAAEI,KAAK,EAAEjC,KAAK,CAAC+C;MAAgB,CAAE;MAAAf,QAAA,EAAC;IAErF;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEL7D,OAAA;MAAKmD,SAAS,EAAC,sDAAsD;MAAAI,QAAA,EAClExC,cAAc,CAACkD,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACzB,GAAG,CAAC,CAAC+B,IAAI,EAAEC,KAAK,kBAC1CxE,OAAA,CAACJ,YAAY;QAAe2E,IAAI,EAAEA,IAAK;QAACtD,UAAU,EAAEA,UAAW;QAACqB,WAAW,EAAErB,UAAU,IAAGE,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEe,cAAc;MAAC,GAAjGqC,IAAI,CAACP,EAAE;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAA4F,CACvH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACjD,EAAA,CA9GQF,SAAS;EAAA,QAMEZ,QAAQ;AAAA;AAAA2E,EAAA,GANnB/D,SAAS;AAgHlB,eAAeA,SAAS;AAAC,IAAA+D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}