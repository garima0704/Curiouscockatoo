{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MY COMPUTER SERVICES\\\\CuriousCockatoo\\\\client\\\\src\\\\components\\\\Converter.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport pb from \"../utils/pocketbaseClient\";\nimport RealWorldBox from \"./RealWorldBox\";\nimport ConversionBox from \"./ConversionBox\";\nimport MoleConverter from \"./MoleConverter\";\nimport { useTheme } from \"../context/ThemeContext\";\nimport { formatNumber } from \"../utils/formatNumber\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Converter() {\n  _s();\n  const {\n    category\n  } = useParams();\n  const theme = useTheme();\n  const [inputValue, setInputValue] = useState(1);\n  const [units, setUnits] = useState([]);\n  const [selectedUnits, setSelectedUnits] = useState([]);\n  const [results, setResults] = useState([]);\n  const [isScientific, setIsScientific] = useState([false, false, false]);\n  useEffect(() => {\n    if (category === \"mole\") return; // handled in MoleConverter\n\n    const fetchUnits = async () => {\n      try {\n        var _records$, _records$2, _records$3;\n        const records = await pb.collection(\"units\").getFullList({\n          filter: `category.slug = '${category}'`,\n          sort: 'value ASC'\n        });\n        setUnits(records);\n        setSelectedUnits([(_records$ = records[0]) === null || _records$ === void 0 ? void 0 : _records$.id, (_records$2 = records[1]) === null || _records$2 === void 0 ? void 0 : _records$2.id, (_records$3 = records[2]) === null || _records$3 === void 0 ? void 0 : _records$3.id]);\n      } catch (err) {\n        console.error(\"Error fetching units:\", err);\n      }\n    };\n    fetchUnits();\n  }, [category]);\n  useEffect(() => {\n    var _units$find;\n    if (units.length === 0 || selectedUnits.length !== 3) return;\n    const baseUnit = units.find(u => u.is_base);\n    if (!baseUnit) return;\n    const baseValue = inputValue * (((_units$find = units.find(u => u.id === selectedUnits[0])) === null || _units$find === void 0 ? void 0 : _units$find.value) || 1);\n    const newResults = selectedUnits.map(unitId => {\n      const unit = units.find(u => u.id === unitId);\n      if (!unit) return \"-\";\n      const converted = baseValue / unit.value;\n      return isScientific[selectedUnits.indexOf(unitId)] ? converted.toExponential(3) : formatNumber(converted);\n    });\n    setResults(newResults);\n  }, [inputValue, selectedUnits, units, isScientific]);\n  const handleUnitChange = (index, unitId) => {\n    const updated = [...selectedUnits];\n    updated[index] = unitId;\n    setSelectedUnits(updated);\n  };\n  const toggleScientific = index => {\n    const updated = [...isScientific];\n    updated[index] = !updated[index];\n    setIsScientific(updated);\n  };\n  if (category === \"mole\") return /*#__PURE__*/_jsxDEV(MoleConverter, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 35\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-md p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: inputValue,\n        onChange: e => setInputValue(Number(e.target.value)),\n        className: \"w-full border p-2 rounded mb-4\",\n        placeholder: \"Enter value\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n        children: selectedUnits.map((unitId, index) => /*#__PURE__*/_jsxDEV(ConversionBox, {\n          label: `Output ${index + 1}`,\n          value: results[index] || \"-\",\n          unitOptions: units,\n          selectedUnit: unitId,\n          onUnitChange: id => handleUnitChange(index, id),\n          onToggleDisplay: () => toggleScientific(index),\n          isScientific: isScientific[index]\n        }, unitId || index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-md p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold mb-4\",\n        children: \"Real-World Comparison\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n        children: selectedUnits.map((unitId, index) => /*#__PURE__*/_jsxDEV(RealWorldBox, {\n          inputValue: inputValue,\n          selectedUnitId: unitId,\n          isScientific: isScientific[index],\n          onToggleDisplay: () => toggleScientific(index),\n          category: category\n        }, `real-${unitId}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(Converter, \"nWDZFGN7f358AJ0nDnz6RgHl2Go=\", false, function () {\n  return [useParams, useTheme];\n});\n_c = Converter;\nvar _c;\n$RefreshReg$(_c, \"Converter\");","map":{"version":3,"names":["React","useEffect","useState","pb","RealWorldBox","ConversionBox","MoleConverter","useTheme","formatNumber","useParams","jsxDEV","_jsxDEV","Converter","_s","category","theme","inputValue","setInputValue","units","setUnits","selectedUnits","setSelectedUnits","results","setResults","isScientific","setIsScientific","fetchUnits","_records$","_records$2","_records$3","records","collection","getFullList","filter","sort","id","err","console","error","_units$find","length","baseUnit","find","u","is_base","baseValue","value","newResults","map","unitId","unit","converted","indexOf","toExponential","handleUnitChange","index","updated","toggleScientific","fileName","_jsxFileName","lineNumber","columnNumber","className","children","type","onChange","e","Number","target","placeholder","label","unitOptions","selectedUnit","onUnitChange","onToggleDisplay","selectedUnitId","_c","$RefreshReg$"],"sources":["C:/Users/MY COMPUTER SERVICES/CuriousCockatoo/client/src/components/Converter.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport pb from \"../utils/pocketbaseClient\";\nimport RealWorldBox from \"./RealWorldBox\";\nimport ConversionBox from \"./ConversionBox\";\nimport MoleConverter from \"./MoleConverter\";\nimport { useTheme } from \"../context/ThemeContext\";\nimport { formatNumber } from \"../utils/formatNumber\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function Converter() {\n  const { category } = useParams();\n  const theme = useTheme();\n\n  const [inputValue, setInputValue] = useState(1);\n  const [units, setUnits] = useState([]);\n  const [selectedUnits, setSelectedUnits] = useState([]);\n  const [results, setResults] = useState([]);\n  const [isScientific, setIsScientific] = useState([false, false, false]);\n\n  useEffect(() => {\n    if (category === \"mole\") return; // handled in MoleConverter\n\n    const fetchUnits = async () => {\n      try {\n        const records = await pb.collection(\"units\").getFullList({\n          filter: `category.slug = '${category}'`,\n          sort: 'value ASC'\n        });\n        setUnits(records);\n        setSelectedUnits([records[0]?.id, records[1]?.id, records[2]?.id]);\n      } catch (err) {\n        console.error(\"Error fetching units:\", err);\n      }\n    };\n\n    fetchUnits();\n  }, [category]);\n\n  useEffect(() => {\n    if (units.length === 0 || selectedUnits.length !== 3) return;\n    const baseUnit = units.find((u) => u.is_base);\n    if (!baseUnit) return;\n\n    const baseValue = inputValue * (units.find((u) => u.id === selectedUnits[0])?.value || 1);\n    const newResults = selectedUnits.map((unitId) => {\n      const unit = units.find((u) => u.id === unitId);\n      if (!unit) return \"-\";\n      const converted = baseValue / unit.value;\n      return isScientific[selectedUnits.indexOf(unitId)]\n        ? converted.toExponential(3)\n        : formatNumber(converted);\n    });\n    setResults(newResults);\n  }, [inputValue, selectedUnits, units, isScientific]);\n\n  const handleUnitChange = (index, unitId) => {\n    const updated = [...selectedUnits];\n    updated[index] = unitId;\n    setSelectedUnits(updated);\n  };\n\n  const toggleScientific = (index) => {\n    const updated = [...isScientific];\n    updated[index] = !updated[index];\n    setIsScientific(updated);\n  };\n\n  if (category === \"mole\") return <MoleConverter />;\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-2xl shadow-md p-6\">\n        <input\n          type=\"number\"\n          value={inputValue}\n          onChange={(e) => setInputValue(Number(e.target.value))}\n          className=\"w-full border p-2 rounded mb-4\"\n          placeholder=\"Enter value\"\n        />\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {selectedUnits.map((unitId, index) => (\n            <ConversionBox\n              key={unitId || index}\n              label={`Output ${index + 1}`}\n              value={results[index] || \"-\"}\n              unitOptions={units}\n              selectedUnit={unitId}\n              onUnitChange={(id) => handleUnitChange(index, id)}\n              onToggleDisplay={() => toggleScientific(index)}\n              isScientific={isScientific[index]}\n            />\n          ))}\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-2xl shadow-md p-6\">\n        <h3 className=\"text-xl font-semibold mb-4\">Real-World Comparison</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {selectedUnits.map((unitId, index) => (\n            <RealWorldBox\n              key={`real-${unitId}`}\n              inputValue={inputValue}\n              selectedUnitId={unitId}\n              isScientific={isScientific[index]}\n              onToggleDisplay={() => toggleScientific(index)}\n              category={category}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}