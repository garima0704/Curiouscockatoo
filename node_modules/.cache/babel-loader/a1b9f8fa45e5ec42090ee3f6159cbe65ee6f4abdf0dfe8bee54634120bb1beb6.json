{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MY COMPUTER SERVICES\\\\CuriousCockatoo\\\\client\\\\src\\\\components\\\\MoleConverter.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport pb from \"../utils/pocketbaseClient\";\nimport { formatNumber } from \"../utils/formatNumber\";\nimport { useTheme } from \"../context/ThemeContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction parseScientific(val) {\n  if (val == null) return null;\n  if (typeof val === \"number\") return val;\n  if (typeof val === \"object\" && \"value\" in val) return val.value;\n  const parsed = parseFloat(val);\n  return isNaN(parsed) ? null : parsed;\n}\nexport default function MoleConverter() {\n  _s();\n  const [parentUnits, setParentUnits] = useState([]);\n  const [units, setUnits] = useState([]);\n  const [selectedParent, setSelectedParent] = useState(null);\n  const [selectedChildren, setSelectedChildren] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [scientificMode, setScientificMode] = useState(false);\n  const theme = useTheme();\n  useEffect(() => {\n    fetchUnits();\n  }, []);\n  useEffect(() => {\n    if (selectedParent) {\n      const children = units.filter(u => u.parent_unit && u.parent_unit.id === selectedParent.id);\n      setSelectedChildren(children.slice(0, 3)); // Show only first 3\n    } else {\n      setSelectedChildren([]);\n    }\n  }, [selectedParent, units]);\n  const fetchUnits = async () => {\n    try {\n      const result = await pb.collection(\"units\").getFullList({\n        filter: `category.name = \"Mole\"`,\n        expand: \"parent_unit\"\n      });\n      const parents = result.filter(unit => !unit.parent_unit);\n      setParentUnits(parents);\n      setUnits(result);\n      setSelectedParent(parents[0] || null);\n    } catch (error) {\n      console.error(\"Error fetching units:\", error);\n    }\n  };\n  const convert = (value, from, to) => {\n    const base = parseScientific(value) * parseScientific(from.value);\n    const result = base / parseScientific(to.value);\n    return result;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 rounded-xl shadow\",\n    style: {\n      backgroundColor: (theme === null || theme === void 0 ? void 0 : theme.box) || \"#ffffff\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row items-center gap-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: inputValue,\n        onChange: e => setInputValue(e.target.value),\n        placeholder: \"Enter value\",\n        className: \"p-2 border rounded w-full md:w-1/2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: (selectedParent === null || selectedParent === void 0 ? void 0 : selectedParent.id) || \"\",\n        onChange: e => setSelectedParent(parentUnits.find(p => p.id === e.target.value)),\n        className: \"p-2 border rounded w-full md:w-1/2\",\n        children: parentUnits.map(parent => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: parent.id,\n          children: parent.name\n        }, parent.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setScientificMode(!scientificMode),\n        className: \"text-sm px-3 py-1 rounded border\",\n        style: {\n          backgroundColor: scientificMode ? theme === null || theme === void 0 ? void 0 : theme.highlight : \"transparent\",\n          color: scientificMode ? \"#fff\" : (theme === null || theme === void 0 ? void 0 : theme.text) || \"#000\"\n        },\n        children: scientificMode ? \"Scientific\" : \"General\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid md:grid-cols-3 gap-4\",\n      children: selectedChildren.map(child => {\n        const result = inputValue ? convert(inputValue, selectedParent, child) : null;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 rounded-xl shadow\",\n          style: {\n            backgroundColor: (theme === null || theme === void 0 ? void 0 : theme.outputBox) || \"#f3f4f6\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-bold mb-2\",\n            children: result != null ? scientificMode ? result.toExponential(4) : formatNumber(result) : \"--\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm\",\n            children: child.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this)]\n        }, child.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(MoleConverter, \"Xt/sHoqbytZ+Oh6t7tkJELF7IR8=\", false, function () {\n  return [useTheme];\n});\n_c = MoleConverter;\nvar _c;\n$RefreshReg$(_c, \"MoleConverter\");","map":{"version":3,"names":["React","useEffect","useState","pb","formatNumber","useTheme","jsxDEV","_jsxDEV","parseScientific","val","value","parsed","parseFloat","isNaN","MoleConverter","_s","parentUnits","setParentUnits","units","setUnits","selectedParent","setSelectedParent","selectedChildren","setSelectedChildren","inputValue","setInputValue","scientificMode","setScientificMode","theme","fetchUnits","children","filter","u","parent_unit","id","slice","result","collection","getFullList","expand","parents","unit","error","console","convert","from","to","base","className","style","backgroundColor","box","type","onChange","e","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","find","p","map","parent","name","onClick","highlight","color","text","child","outputBox","toExponential","_c","$RefreshReg$"],"sources":["C:/Users/MY COMPUTER SERVICES/CuriousCockatoo/client/src/components/MoleConverter.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport pb from \"../utils/pocketbaseClient\";\r\nimport { formatNumber } from \"../utils/formatNumber\";\r\nimport { useTheme } from \"../context/ThemeContext\";\r\n\r\nfunction parseScientific(val) {\r\n  if (val == null) return null;\r\n  if (typeof val === \"number\") return val;\r\n  if (typeof val === \"object\" && \"value\" in val) return val.value;\r\n  const parsed = parseFloat(val);\r\n  return isNaN(parsed) ? null : parsed;\r\n}\r\n\r\nexport default function MoleConverter() {\r\n  const [parentUnits, setParentUnits] = useState([]);\r\n  const [units, setUnits] = useState([]);\r\n  const [selectedParent, setSelectedParent] = useState(null);\r\n  const [selectedChildren, setSelectedChildren] = useState([]);\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [scientificMode, setScientificMode] = useState(false);\r\n  const theme = useTheme();\r\n\r\n  useEffect(() => {\r\n    fetchUnits();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedParent) {\r\n      const children = units.filter(\r\n        u => u.parent_unit && u.parent_unit.id === selectedParent.id\r\n      );\r\n      setSelectedChildren(children.slice(0, 3)); // Show only first 3\r\n    } else {\r\n      setSelectedChildren([]);\r\n    }\r\n  }, [selectedParent, units]);\r\n\r\n  const fetchUnits = async () => {\r\n    try {\r\n      const result = await pb.collection(\"units\").getFullList({\r\n        filter: `category.name = \"Mole\"`,\r\n        expand: \"parent_unit\",\r\n      });\r\n\r\n      const parents = result.filter(unit => !unit.parent_unit);\r\n      setParentUnits(parents);\r\n      setUnits(result);\r\n      setSelectedParent(parents[0] || null);\r\n    } catch (error) {\r\n      console.error(\"Error fetching units:\", error);\r\n    }\r\n  };\r\n\r\n  const convert = (value, from, to) => {\r\n    const base = parseScientific(value) * parseScientific(from.value);\r\n    const result = base / parseScientific(to.value);\r\n    return result;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"p-4 rounded-xl shadow\"\r\n      style={{ backgroundColor: theme?.box || \"#ffffff\" }}\r\n    >\r\n      <div className=\"flex flex-col md:flex-row items-center gap-4 mb-4\">\r\n        <input\r\n          type=\"number\"\r\n          value={inputValue}\r\n          onChange={e => setInputValue(e.target.value)}\r\n          placeholder=\"Enter value\"\r\n          className=\"p-2 border rounded w-full md:w-1/2\"\r\n        />\r\n        <select\r\n          value={selectedParent?.id || \"\"}\r\n          onChange={e =>\r\n            setSelectedParent(parentUnits.find(p => p.id === e.target.value))\r\n          }\r\n          className=\"p-2 border rounded w-full md:w-1/2\"\r\n        >\r\n          {parentUnits.map(parent => (\r\n            <option key={parent.id} value={parent.id}>\r\n              {parent.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"flex justify-end mb-4\">\r\n        <button\r\n          onClick={() => setScientificMode(!scientificMode)}\r\n          className=\"text-sm px-3 py-1 rounded border\"\r\n          style={{\r\n            backgroundColor: scientificMode ? theme?.highlight : \"transparent\",\r\n            color: scientificMode ? \"#fff\" : theme?.text || \"#000\",\r\n          }}\r\n        >\r\n          {scientificMode ? \"Scientific\" : \"General\"}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"grid md:grid-cols-3 gap-4\">\r\n        {selectedChildren.map(child => {\r\n          const result = inputValue\r\n            ? convert(inputValue, selectedParent, child)\r\n            : null;\r\n          return (\r\n            <div\r\n              key={child.id}\r\n              className=\"p-4 rounded-xl shadow\"\r\n              style={{ backgroundColor: theme?.outputBox || \"#f3f4f6\" }}\r\n            >\r\n              <div className=\"text-lg font-bold mb-2\">\r\n                {result != null\r\n                  ? scientificMode\r\n                    ? result.toExponential(4)\r\n                    : formatNumber(result)\r\n                  : \"--\"}\r\n              </div>\r\n              <div className=\"text-sm\">{child.name}</div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}