{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MY COMPUTER SERVICES\\\\CuriousCockatoo\\\\client\\\\src\\\\components\\\\MoleConverter.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport pb from \"../utils/pocketbaseClient\";\nimport RealWorldBox from \"./RealWorldBox\";\nimport { formatNumber } from \"../utils/formatNumber\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MoleConverter({\n  categoryInfo,\n  units,\n  fromUnit,\n  inputValue,\n  setInputValue,\n  theme\n}) {\n  _s();\n  const [childUnits, setChildUnits] = useState([]);\n  const [selectedUnits, setSelectedUnits] = useState([]);\n  const [realWorldItems, setRealWorldItems] = useState([]);\n  const [outputMode, setOutputMode] = useState([\"general\", \"general\", \"general\"]);\n  useEffect(() => {\n    if (!(fromUnit !== null && fromUnit !== void 0 && fromUnit.id)) return;\n    pb.collection(\"units\").getFullList({\n      filter: `parent_unit = \"${fromUnit.id}\"`\n    }).then(data => {\n      const sorted = data.sort((a, b) => a.value - b.value);\n      setChildUnits(sorted);\n      if (sorted.length >= 3) {\n        setSelectedUnits([sorted[0].id, sorted[1].id, sorted[2].id]);\n      }\n    });\n  }, [fromUnit]);\n  useEffect(() => {\n    if (!(categoryInfo !== null && categoryInfo !== void 0 && categoryInfo.id)) return;\n    pb.collection(\"realworld_items\").getFullList({\n      filter: `category = \"${categoryInfo.id}\"`\n    }).then(data => setRealWorldItems(data.sort((a, b) => a.value - b.value)));\n  }, [categoryInfo]);\n  const convert = (input, from, to) => {\n    if (!from || !to || isNaN(input)) return null;\n    return input * from.value / to.value;\n  };\n  const getUnitById = id => childUnits.find(u => u.id === id);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\",\n    children: [selectedUnits.map((unitId, index) => {\n      const from = childUnits[0];\n      const to = getUnitById(unitId);\n      const result = convert(inputValue, from, to);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-2xl shadow\",\n        style: {\n          backgroundColor: (theme === null || theme === void 0 ? void 0 : theme.box) || \"#ffffff\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold text-xl mb-2\",\n          children: result != null ? outputMode[index] === \"scientific\" ? Number(result).toExponential(3) : formatNumber(result) : \"--\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"w-full p-2 rounded\",\n          value: unitId,\n          onChange: e => setSelectedUnits(prev => {\n            const updated = [...prev];\n            updated[index] = e.target.value;\n            return updated;\n          }),\n          children: childUnits.map(unit => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: unit.id,\n            children: unit.name\n          }, unit.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setOutputMode(prev => prev.map((mode, i) => i === index ? \"general\" : mode)),\n            className: `px-2 py-1 rounded ${outputMode[index] === \"general\" ? \"bg-yellow-400 text-black\" : \"bg-gray-200\"}`,\n            children: \"General\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setOutputMode(prev => prev.map((mode, i) => i === index ? \"scientific\" : mode)),\n            className: `px-2 py-1 rounded ${outputMode[index] === \"scientific\" ? \"bg-yellow-400 text-black\" : \"bg-gray-200\"}`,\n            children: \"Scientific\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this);\n    }), selectedUnits.map((unitId, index) => /*#__PURE__*/_jsxDEV(RealWorldBox, {\n      input: inputValue,\n      fromUnit: getUnitById(selectedUnits[0]),\n      realWorldItems: realWorldItems,\n      mode: outputMode[index],\n      theme: theme\n    }, `realworld-${index}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(MoleConverter, \"EKq26TMfDRgq0qIVp43nOLBdvUE=\");\n_c = MoleConverter;\nvar _c;\n$RefreshReg$(_c, \"MoleConverter\");","map":{"version":3,"names":["React","useEffect","useState","pb","RealWorldBox","formatNumber","jsxDEV","_jsxDEV","MoleConverter","categoryInfo","units","fromUnit","inputValue","setInputValue","theme","_s","childUnits","setChildUnits","selectedUnits","setSelectedUnits","realWorldItems","setRealWorldItems","outputMode","setOutputMode","id","collection","getFullList","filter","then","data","sorted","sort","a","b","value","length","convert","input","from","to","isNaN","getUnitById","find","u","className","children","map","unitId","index","result","style","backgroundColor","box","Number","toExponential","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","prev","updated","target","unit","name","onClick","mode","i","_c","$RefreshReg$"],"sources":["C:/Users/MY COMPUTER SERVICES/CuriousCockatoo/client/src/components/MoleConverter.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport pb from \"../utils/pocketbaseClient\";\r\nimport RealWorldBox from \"./RealWorldBox\";\r\nimport { formatNumber } from \"../utils/formatNumber\";\r\n\r\nexport default function MoleConverter({\r\n  categoryInfo,\r\n  units,\r\n  fromUnit,\r\n  inputValue,\r\n  setInputValue,\r\n  theme,\r\n}) {\r\n  const [childUnits, setChildUnits] = useState([]);\r\n  const [selectedUnits, setSelectedUnits] = useState([]);\r\n  const [realWorldItems, setRealWorldItems] = useState([]);\r\n  const [outputMode, setOutputMode] = useState([\"general\", \"general\", \"general\"]);\r\n\r\n  useEffect(() => {\r\n    if (!fromUnit?.id) return;\r\n    pb.collection(\"units\")\r\n      .getFullList({ filter: `parent_unit = \"${fromUnit.id}\"` })\r\n      .then((data) => {\r\n        const sorted = data.sort((a, b) => a.value - b.value);\r\n        setChildUnits(sorted);\r\n        if (sorted.length >= 3) {\r\n          setSelectedUnits([sorted[0].id, sorted[1].id, sorted[2].id]);\r\n        }\r\n      });\r\n  }, [fromUnit]);\r\n\r\n  useEffect(() => {\r\n    if (!categoryInfo?.id) return;\r\n    pb.collection(\"realworld_items\")\r\n      .getFullList({ filter: `category = \"${categoryInfo.id}\"` })\r\n      .then((data) =>\r\n        setRealWorldItems(data.sort((a, b) => a.value - b.value))\r\n      );\r\n  }, [categoryInfo]);\r\n\r\n  const convert = (input, from, to) => {\r\n    if (!from || !to || isNaN(input)) return null;\r\n    return (input * from.value) / to.value;\r\n  };\r\n\r\n  const getUnitById = (id) => childUnits.find((u) => u.id === id);\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\r\n      {selectedUnits.map((unitId, index) => {\r\n        const from = childUnits[0];\r\n        const to = getUnitById(unitId);\r\n        const result = convert(inputValue, from, to);\r\n        return (\r\n          <div\r\n            key={index}\r\n            className=\"p-4 rounded-2xl shadow\"\r\n            style={{ backgroundColor: theme?.box || \"#ffffff\" }}\r\n          >\r\n            <div className=\"font-semibold text-xl mb-2\">\r\n              {result != null\r\n                ? outputMode[index] === \"scientific\"\r\n                  ? Number(result).toExponential(3)\r\n                  : formatNumber(result)\r\n                : \"--\"}\r\n            </div>\r\n            <select\r\n              className=\"w-full p-2 rounded\"\r\n              value={unitId}\r\n              onChange={(e) =>\r\n                setSelectedUnits((prev) => {\r\n                  const updated = [...prev];\r\n                  updated[index] = e.target.value;\r\n                  return updated;\r\n                })\r\n              }\r\n            >\r\n              {childUnits.map((unit) => (\r\n                <option key={unit.id} value={unit.id}>\r\n                  {unit.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <div className=\"mt-2 flex gap-2\">\r\n              <button\r\n                onClick={() =>\r\n                  setOutputMode((prev) =>\r\n                    prev.map((mode, i) => (i === index ? \"general\" : mode))\r\n                  )\r\n                }\r\n                className={`px-2 py-1 rounded ${\r\n                  outputMode[index] === \"general\"\r\n                    ? \"bg-yellow-400 text-black\"\r\n                    : \"bg-gray-200\"\r\n                }`}\r\n              >\r\n                General\r\n              </button>\r\n              <button\r\n                onClick={() =>\r\n                  setOutputMode((prev) =>\r\n                    prev.map((mode, i) => (i === index ? \"scientific\" : mode))\r\n                  )\r\n                }\r\n                className={`px-2 py-1 rounded ${\r\n                  outputMode[index] === \"scientific\"\r\n                    ? \"bg-yellow-400 text-black\"\r\n                    : \"bg-gray-200\"\r\n                }`}\r\n              >\r\n                Scientific\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n      {/* Real World Comparison Boxes */}\r\n      {selectedUnits.map((unitId, index) => (\r\n        <RealWorldBox\r\n          key={`realworld-${index}`}\r\n          input={inputValue}\r\n          fromUnit={getUnitById(selectedUnits[0])}\r\n          realWorldItems={realWorldItems}\r\n          mode={outputMode[index]}\r\n          theme={theme}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}