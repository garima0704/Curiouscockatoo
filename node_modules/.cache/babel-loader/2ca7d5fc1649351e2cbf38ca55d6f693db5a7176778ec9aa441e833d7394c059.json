{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MY COMPUTER SERVICES\\\\CuriousCockatoo\\\\client\\\\src\\\\components\\\\MoleConverter.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport pb from \"../utils/pocketbaseClient\";\nimport RealWorldBox from \"./RealWorldBox\";\nimport { formatNumber } from \"../utils/formatNumber\";\nimport { useTheme } from \"../context/ThemeContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction parseScientific(val) {\n  if (val == null) return null;\n  if (typeof val === \"number\") return val;\n  if (typeof val === \"object\" && val.hasOwnProperty(\"value\")) return val.value;\n  return parseFloat(val);\n}\nexport default function MoleConverter({\n  categoryId\n}) {\n  _s();\n  const [units, setUnits] = useState([]);\n  const [realWorldItems, setRealWorldItems] = useState([]);\n  const [inputValue, setInputValue] = useState(1);\n  const [selectedUnit, setSelectedUnit] = useState(null);\n  const theme = useTheme();\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const unitRes = await pb.collection(\"units\").getFullList({\n          filter: `category=\"${categoryId}\"`\n        });\n        const itemsRes = await pb.collection(\"real_world_items\").getFullList({\n          filter: `category=\"${categoryId}\"`\n        });\n        setUnits(unitRes);\n        setSelectedUnit(unitRes[0]);\n        setRealWorldItems(itemsRes);\n      } catch (err) {\n        console.error(\"Failed to fetch data:\", err);\n      }\n    };\n    fetchData();\n  }, [categoryId]);\n  const convert = unit => {\n    const base = parseScientific(selectedUnit === null || selectedUnit === void 0 ? void 0 : selectedUnit.value);\n    const target = parseScientific(unit.value);\n    return inputValue * base / target;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid gap-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        className: \"border rounded px-3 py-2\",\n        value: inputValue,\n        onChange: e => setInputValue(Number(e.target.value))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedUnit === null || selectedUnit === void 0 ? void 0 : selectedUnit.id,\n        onChange: e => setSelectedUnit(units.find(u => u.id === e.target.value)),\n        className: \"border rounded px-3 py-2\",\n        children: units.map(unit => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: unit.id,\n          children: unit.name\n        }, unit.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid md:grid-cols-3 gap-4\",\n      children: units.map(unit => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-xl shadow p-4\",\n        style: {\n          backgroundColor: (theme === null || theme === void 0 ? void 0 : theme.box) || \"#fff\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-bold text-xl\",\n          children: formatNumber(convert(unit))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm\",\n          children: unit.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, unit.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid md:grid-cols-3 gap-4 mt-4\",\n      children: realWorldItems.map(item => {\n        const ratio = inputValue / parseScientific(item.value);\n        return /*#__PURE__*/_jsxDEV(RealWorldBox, {\n          item: item,\n          ratio: ratio\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(MoleConverter, \"tAuWfKJtwHyLnsR13zpBHlIJWSk=\", false, function () {\n  return [useTheme];\n});\n_c = MoleConverter;\nvar _c;\n$RefreshReg$(_c, \"MoleConverter\");","map":{"version":3,"names":["React","useEffect","useState","pb","RealWorldBox","formatNumber","useTheme","jsxDEV","_jsxDEV","parseScientific","val","hasOwnProperty","value","parseFloat","MoleConverter","categoryId","_s","units","setUnits","realWorldItems","setRealWorldItems","inputValue","setInputValue","selectedUnit","setSelectedUnit","theme","fetchData","unitRes","collection","getFullList","filter","itemsRes","err","console","error","convert","unit","base","target","className","children","type","onChange","e","Number","fileName","_jsxFileName","lineNumber","columnNumber","id","find","u","map","name","style","backgroundColor","box","item","ratio","_c","$RefreshReg$"],"sources":["C:/Users/MY COMPUTER SERVICES/CuriousCockatoo/client/src/components/MoleConverter.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport pb from \"../utils/pocketbaseClient\";\r\nimport RealWorldBox from \"./RealWorldBox\";\r\nimport { formatNumber } from \"../utils/formatNumber\";\r\nimport { useTheme } from \"../context/ThemeContext\";\r\n\r\nfunction parseScientific(val) {\r\n  if (val == null) return null;\r\n  if (typeof val === \"number\") return val;\r\n  if (typeof val === \"object\" && val.hasOwnProperty(\"value\")) return val.value;\r\n  return parseFloat(val);\r\n}\r\n\r\nexport default function MoleConverter({ categoryId }) {\r\n  const [units, setUnits] = useState([]);\r\n  const [realWorldItems, setRealWorldItems] = useState([]);\r\n  const [inputValue, setInputValue] = useState(1);\r\n  const [selectedUnit, setSelectedUnit] = useState(null);\r\n  const theme = useTheme();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const unitRes = await pb.collection(\"units\").getFullList({ filter: `category=\"${categoryId}\"` });\r\n        const itemsRes = await pb.collection(\"real_world_items\").getFullList({ filter: `category=\"${categoryId}\"` });\r\n\r\n        setUnits(unitRes);\r\n        setSelectedUnit(unitRes[0]);\r\n        setRealWorldItems(itemsRes);\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch data:\", err);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [categoryId]);\r\n\r\n  const convert = (unit) => {\r\n    const base = parseScientific(selectedUnit?.value);\r\n    const target = parseScientific(unit.value);\r\n    return (inputValue * base) / target;\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid gap-4\">\r\n      <div className=\"flex gap-2 items-center\">\r\n        <input\r\n          type=\"number\"\r\n          className=\"border rounded px-3 py-2\"\r\n          value={inputValue}\r\n          onChange={(e) => setInputValue(Number(e.target.value))}\r\n        />\r\n        <select\r\n          value={selectedUnit?.id}\r\n          onChange={(e) => setSelectedUnit(units.find((u) => u.id === e.target.value))}\r\n          className=\"border rounded px-3 py-2\"\r\n        >\r\n          {units.map((unit) => (\r\n            <option key={unit.id} value={unit.id}>\r\n              {unit.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"grid md:grid-cols-3 gap-4\">\r\n        {units.map((unit) => (\r\n          <div\r\n            key={unit.id}\r\n            className=\"rounded-xl shadow p-4\"\r\n            style={{ backgroundColor: theme?.box || \"#fff\" }}\r\n          >\r\n            <div className=\"font-bold text-xl\">{formatNumber(convert(unit))}</div>\r\n            <div className=\"text-sm\">{unit.name}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"grid md:grid-cols-3 gap-4 mt-4\">\r\n        {realWorldItems.map((item) => {\r\n          const ratio = inputValue / parseScientific(item.value);\r\n          return (\r\n            <RealWorldBox key={item.id} item={item} ratio={ratio} />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}