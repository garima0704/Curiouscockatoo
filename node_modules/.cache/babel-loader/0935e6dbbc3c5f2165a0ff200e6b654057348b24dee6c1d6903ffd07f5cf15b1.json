{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MY COMPUTER SERVICES\\\\unit-converter-app\\\\client\\\\src\\\\components\\\\Converter.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport pb from \"../utils/pocketbaseClient\";\nimport { formatNumber } from \"../utils/formatNumber\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Converter({\n  categoryId\n}) {\n  _s();\n  const [units, setUnits] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [fromUnit, setFromUnit] = useState(\"\");\n  const [toUnits, setToUnits] = useState([\"\", \"\", \"\"]);\n  const [conversionToggles, setConversionToggles] = useState([false, false, false]);\n  const [outputValues, setOutputValues] = useState([\"...\", \"...\", \"...\"]);\n  useEffect(() => {\n    const fetchUnits = async () => {\n      var _sorted$;\n      const unitList = await pb.collection(\"units\").getFullList({\n        filter: `category = \"${categoryId}\"`\n      });\n      const sorted = unitList.sort((a, b) => a.to_base_factor - b.to_base_factor);\n      setUnits(sorted);\n      setFromUnit(((_sorted$ = sorted[0]) === null || _sorted$ === void 0 ? void 0 : _sorted$.id) || \"\");\n      setToUnits(sorted.slice(1, 4).map(u => u.id));\n    };\n    if (categoryId) fetchUnits();\n  }, [categoryId]);\n  useEffect(() => {\n    calculateAll();\n  }, [inputValue, fromUnit, toUnits, conversionToggles]);\n  const calculateAll = () => {\n    const from = units.find(u => u.id === fromUnit);\n    if (!from || !inputValue) return;\n    const baseValue = parseFloat(inputValue) * from.to_base_factor;\n    const results = toUnits.map((toId, i) => {\n      const to = units.find(u => u.id === toId);\n      if (!to) return \"...\";\n      const result = baseValue / to.to_base_factor;\n      return formatNumber(result, conversionToggles[i]);\n    });\n    setOutputValues(results);\n  };\n  const toggleConversion = (i, mode) => {\n    const newToggles = [...conversionToggles];\n    newToggles[i] = mode;\n    setConversionToggles(newToggles);\n  };\n  const updateToUnit = (i, value) => {\n    const newToUnits = [...toUnits];\n    newToUnits[i] = value;\n    setToUnits(newToUnits);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row gap-4 justify-center items-center flex-wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: inputValue,\n        onChange: e => setInputValue(e.target.value),\n        placeholder: \"Enter value\",\n        className: \"border p-2 rounded w-40\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 max-w-full\",\n        children: units.map(u => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFromUnit(u.id),\n          className: `border px-3 py-1 rounded ${fromUnit === u.id ? \"bg-blue-600 text-white\" : \"bg-white text-gray-800\"}`,\n          children: [u.name, \" (\", u.symbol, \")\"]\n        }, u.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n      children: [0, 1, 2].map(boxIndex => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center gap-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-1 rounded-l ${!conversionToggles[boxIndex] ? \"bg-blue-600 text-white\" : \"bg-white border\"}`,\n            onClick: () => toggleConversion(boxIndex, false),\n            children: \"General\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-1 rounded-r ${conversionToggles[boxIndex] ? \"bg-blue-600 text-white\" : \"bg-white border\"}`,\n            onClick: () => toggleConversion(boxIndex, true),\n            children: \"Scientific\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-100 p-3 rounded text-center text-blue-700 font-bold text-base h-16\",\n          children: outputValues[boxIndex]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border p-2 rounded w-full text-sm mt-2\",\n          value: toUnits[boxIndex],\n          onChange: e => updateToUnit(boxIndex, e.target.value),\n          children: units.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: u.id,\n            children: [u.name, \" (\", u.symbol, \")\"]\n          }, u.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)]\n      }, boxIndex, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(Converter, \"UrZZIENc77b11dwfKZbR+mGHvq8=\");\n_c = Converter;\nexport default Converter;\nvar _c;\n$RefreshReg$(_c, \"Converter\");","map":{"version":3,"names":["React","useState","useEffect","pb","formatNumber","jsxDEV","_jsxDEV","Converter","categoryId","_s","units","setUnits","inputValue","setInputValue","fromUnit","setFromUnit","toUnits","setToUnits","conversionToggles","setConversionToggles","outputValues","setOutputValues","fetchUnits","_sorted$","unitList","collection","getFullList","filter","sorted","sort","a","b","to_base_factor","id","slice","map","u","calculateAll","from","find","baseValue","parseFloat","results","toId","i","to","result","toggleConversion","mode","newToggles","updateToUnit","value","newToUnits","className","children","type","onChange","e","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","name","symbol","boxIndex","_c","$RefreshReg$"],"sources":["C:/Users/MY COMPUTER SERVICES/unit-converter-app/client/src/components/Converter.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport pb from \"../utils/pocketbaseClient\";\nimport { formatNumber } from \"../utils/formatNumber\";\n\nfunction Converter({ categoryId }) {\n  const [units, setUnits] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [fromUnit, setFromUnit] = useState(\"\");\n  const [toUnits, setToUnits] = useState([\"\", \"\", \"\"]);\n  const [conversionToggles, setConversionToggles] = useState([false, false, false]);\n  const [outputValues, setOutputValues] = useState([\"...\", \"...\", \"...\"]);\n\n  useEffect(() => {\n    const fetchUnits = async () => {\n      const unitList = await pb.collection(\"units\").getFullList({\n        filter: `category = \"${categoryId}\"`\n      });\n      const sorted = unitList.sort((a, b) => a.to_base_factor - b.to_base_factor);\n      setUnits(sorted);\n      setFromUnit(sorted[0]?.id || \"\");\n      setToUnits(sorted.slice(1, 4).map(u => u.id));\n    };\n    if (categoryId) fetchUnits();\n  }, [categoryId]);\n\n  useEffect(() => {\n    calculateAll();\n  }, [inputValue, fromUnit, toUnits, conversionToggles]);\n\n  const calculateAll = () => {\n    const from = units.find(u => u.id === fromUnit);\n    if (!from || !inputValue) return;\n\n    const baseValue = parseFloat(inputValue) * from.to_base_factor;\n    const results = toUnits.map((toId, i) => {\n      const to = units.find(u => u.id === toId);\n      if (!to) return \"...\";\n      const result = baseValue / to.to_base_factor;\n      return formatNumber(result, conversionToggles[i]);\n    });\n    setOutputValues(results);\n  };\n\n  const toggleConversion = (i, mode) => {\n    const newToggles = [...conversionToggles];\n    newToggles[i] = mode;\n    setConversionToggles(newToggles);\n  };\n\n  const updateToUnit = (i, value) => {\n    const newToUnits = [...toUnits];\n    newToUnits[i] = value;\n    setToUnits(newToUnits);\n  };\n\n  return (\n    <div className=\"flex flex-col gap-6\">\n      {/* Input & From Unit */}\n      <div className=\"flex flex-col sm:flex-row gap-4 justify-center items-center flex-wrap\">\n        <input\n          type=\"number\"\n          value={inputValue}\n          onChange={(e) => setInputValue(e.target.value)}\n          placeholder=\"Enter value\"\n          className=\"border p-2 rounded w-40\"\n        />\n        <div className=\"flex flex-wrap gap-2 max-w-full\">\n          {units.map((u) => (\n            <button\n              key={u.id}\n              onClick={() => setFromUnit(u.id)}\n              className={`border px-3 py-1 rounded ${fromUnit === u.id ? \"bg-blue-600 text-white\" : \"bg-white text-gray-800\"}`}\n            >\n              {u.name} ({u.symbol})\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Conversion Boxes */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {[0, 1, 2].map((boxIndex) => (\n          <div key={boxIndex} className=\"bg-white p-4 rounded shadow\">\n            <div className=\"flex justify-center gap-2 mb-2\">\n              <button\n                className={`px-4 py-1 rounded-l ${!conversionToggles[boxIndex] ? \"bg-blue-600 text-white\" : \"bg-white border\"}`}\n                onClick={() => toggleConversion(boxIndex, false)}\n              >\n                General\n              </button>\n              <button\n                className={`px-4 py-1 rounded-r ${conversionToggles[boxIndex] ? \"bg-blue-600 text-white\" : \"bg-white border\"}`}\n                onClick={() => toggleConversion(boxIndex, true)}\n              >\n                Scientific\n              </button>\n            </div>\n            <div className=\"bg-gray-100 p-3 rounded text-center text-blue-700 font-bold text-base h-16\">\n              {outputValues[boxIndex]}\n            </div>\n            <select\n              className=\"border p-2 rounded w-full text-sm mt-2\"\n              value={toUnits[boxIndex]}\n              onChange={(e) => updateToUnit(boxIndex, e.target.value)}\n            >\n              {units.map((u) => (\n                <option key={u.id} value={u.id}>\n                  {u.name} ({u.symbol})\n                </option>\n              ))}\n            </select>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Converter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}